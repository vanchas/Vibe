{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{B6ue:function(t,e,n){\"use strict\";n.r(e);var a=n(\"q1tI\"),r=n.n(a),o=n(\"y+yx\"),s=n(\"rsSm\"),u=n(\"/MKj\"),c=n(\"7zJJ\"),i=r.a.createElement;var l={showAlert:c.j},p=Object(u.b)((function(t){return{alert:t.app.alert}}),l)((function(t){var e=Object(a.useState)(\"\"),n=e[0],r=e[1],u=Object(a.useState)(\"\"),c=u[0],l=u[1],p=Object(a.useState)(\"\"),m=p[0],f=p[1],d=Object(a.useState)(\"\"),b=d[0],h=d[1];return i(\"div\",{className:\"text-white\"},i(\"span\",{className:\"text-center d-block py-3\"},\"New admin registration\"),i(\"div\",{className:\"container\"},t.alert&&i(o.a,{text:t.alert})),i(\"form\",{onSubmit:function(e){return function(e){return e.preventDefault(),n.length&&c.length&&m.length&&b.length?c!==b?t.showAlert(\"Password confirmation did not match\"):void s.a.registrationAdmin(n,c,m,b):t.showAlert(\"All fields must be filled\")}(e)},className:\"form-group container\"},i(\"label\",{className:\"form-group d-block\"},\"name\",i(\"input\",{type:\"text\",className:\"form-control\",onChange:function(t){return r(t.target.value)}})),i(\"label\",{className:\"form-group d-block\"},\"password\",i(\"input\",{type:\"password\",className:\"form-control\",onChange:function(t){return l(t.target.value)}})),i(\"label\",{className:\"form-group d-block\"},\"email\",i(\"input\",{type:\"email\",className:\"form-control\",onChange:function(t){return f(t.target.value)}})),i(\"label\",{className:\"form-group d-block\"},\"password_confirmation\",i(\"input\",{type:\"password\",className:\"form-control\",onChange:function(t){return h(t.target.value)}})),i(\"button\",{type:\"submit\",className:\" btn btn-light\"},\"Submit\")))})),m=n(\"o0o1\"),f=n.n(m),d=n(\"HaE+\"),b=n(\"iO2Z\"),h=n(\"vcXL\"),g=n.n(h),w=r.a.createElement;function v(t){var e=t.tasks,n=t.editSupportTasks,r=t.deleteSupportTask,o=Object(a.useState)(!1),s=o[0],u=o[1],c=Object(a.useState)(\"\"),i=c[0],l=c[1],p=Object(a.useState)(\"\"),m=p[0],f=p[1],d=Object(a.useState)(\"\"),b=d[0],h=d[1],g=Object(a.useState)(\"\"),v=g[0],k=g[1];return w(\"div\",null,w(\"span\",{className:\"h2 text-white d-block text-center\"},\"All Support Tasks\"),s&&w(\"form\",{onSubmit:function(t){t.preventDefault(),i.toString().length&&n({subject:m,message:b,answer:v,id:i})},className:\"form-group container\"},w(\"label\",{className:\"form-group text-white\"},\"Subject\",w(\"input\",{type:\"text\",className:\"form-control\",onChange:function(t){return f(t.target.value)}})),w(\"label\",{className:\"form-group text-white\"},\"Message\",w(\"input\",{type:\"text\",className:\"form-control\",onChange:function(t){return h(t.target.value)}})),w(\"label\",{className:\"form-group text-white\"},\"Answer\",w(\"input\",{type:\"text\",className:\"form-control\",onChange:function(t){return k(t.target.value)}})),w(\"div\",null,w(\"button\",{type:\"submit\",className:\"btn btn-info\"},\"Save\"))),w(\"ul\",{className:\"list-group text-white container\"},e&&e.length?e.map((function(t,e){return w(\"li\",{key:e,className:\"list-item py-2\"},w(\"span\",null,w(\"b\",null,\" Subject\"),\": \",t.subject),w(\"br\",null),w(\"span\",null,w(\"b\",null,\" Message\"),\": \",t.message),w(\"br\",null),t.answer&&w(\"span\",null,w(\"b\",null,\" Answer\"),\": \",t.answer),w(\"div\",null,w(\"button\",{onClick:function(){u(!s),l(t.id)}},\"Edit\"),w(\"button\",{className:\"btn btn-danger\",onClick:function(){return r(t.id)}},\"Remove\")))})):w(\"div\",{className:\"h1 text-center text-info\"},\"No tasks...\")))}var k=r.a.createElement;var y={getAllSupportTasks:function(){return function(){var t=Object(d.a)(f.a.mark((function t(e){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.a.currentUserValue,t.next=3,g()(\"https://intim-vibe-api.padilo.pro/api/admin/support\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"\".concat(n.token_type,\" \").concat(n.token)}});case 3:a=t.sent,a.json().then((function(t){return e({type:b.e,payload:t.data})})).catch((function(t){return console.error(\"Error: \",t)}));case 6:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},editSupportTasks:function(t){return function(){var e=Object(d.a)(f.a.mark((function e(n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.a.currentUserValue,e.next=3,g()(\"https://intim-vibe-api.padilo.pro/api/admin/support/edit/\".concat(t.id),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"\".concat(a.token_type,\" \").concat(a.token)},body:JSON.stringify({subject:t.subject,message:t.message,answer:t.answer})});case 3:r=e.sent,r.json().then((function(t){return n({type:b.e,payload:t})})).then((function(){return window.location.reload(!0)}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteSupportTask:function(t){return function(){var e=Object(d.a)(f.a.mark((function e(n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.a.currentUserValue,e.next=3,g()(\"https://intim-vibe-api.padilo.pro/api/admin/support/\".concat(t),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"\".concat(a.token_type,\" \").concat(a.token)}});case 3:return r=e.sent,n({type:b.c,payload:t}),e.abrupt(\"return\",r);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};e.default=Object(u.b)((function(t){return{tasks:t.admin.tasks}}),y)((function(t){var e=t.tasks,n=t.getAllSupportTasks,r=t.editSupportTasks,o=t.deleteSupportTask;return Object(a.useEffect)((function(){n()}),[]),k(\"div\",null,k(p,null),k(v,{tasks:e,editSupportTasks:r,deleteSupportTask:o}))}))},GVI0:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin\",function(){return n(\"B6ue\")}])},\"y+yx\":function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));var a=n(\"q1tI\"),r=n.n(a).a.createElement;function o(t){var e=t.text;return r(\"div\",{className:\"alert alert-warning\",role:\"alert\"},e)}}},[[\"GVI0\",0,1,2,3,4]]]);","extractedComments":[]}