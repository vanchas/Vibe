{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{B6ue:function(t,e,n){\"use strict\";n.r(e);var a=n(\"q1tI\"),r=n.n(a),o=n(\"rsSm\"),s=n(\"/MKj\"),c=n(\"7zJJ\"),u=r.a.createElement;var i={showAlert:c.q},l=Object(s.b)((function(t){return{alert:t.app.alert}}),i)((function(t){var e=Object(a.useState)(\"\"),n=e[0],r=e[1],s=Object(a.useState)(\"\"),c=s[0],i=s[1],l=Object(a.useState)(\"\"),p=l[0],m=l[1],f=Object(a.useState)(\"\"),d=f[0],g=f[1];return u(\"div\",{className:\"text-white\"},u(\"span\",{className:\"text-center d-block py-3\"},\"New admin registration\"),u(\"form\",{onSubmit:function(e){return function(e){return e.preventDefault(),n.length&&c.length&&p.length&&d.length?c!==d?t.showAlert(\"Password confirmation did not match\"):void o.a.registrationAdmin(n,c,p,d):t.showAlert(\"All fields must be filled\")}(e)},className:\"form-group container\"},u(\"label\",{className:\"form-group d-block\"},\"name\",u(\"input\",{type:\"text\",className:\"form-control\",onChange:function(t){return r(t.target.value)}})),u(\"label\",{className:\"form-group d-block\"},\"password\",u(\"input\",{type:\"password\",className:\"form-control\",onChange:function(t){return i(t.target.value)}})),u(\"label\",{className:\"form-group d-block\"},\"email\",u(\"input\",{type:\"email\",className:\"form-control\",onChange:function(t){return m(t.target.value)}})),u(\"label\",{className:\"form-group d-block\"},\"password_confirmation\",u(\"input\",{type:\"password\",className:\"form-control\",onChange:function(t){return g(t.target.value)}})),u(\"button\",{type:\"submit\",className:\" btn btn-light\"},\"Submit\")))})),p=r.a.createElement;function m(t){var e=t.createCategory,n=t.editCategory,r=t.deleteCategory,o=Object(a.useState)(\"\"),s=o[0],c=o[1],u=Object(a.useState)(\"\"),i=u[0],l=u[1];return p(\"div\",{className:\" container text-white\"},p(\"div\",{className:\"h2\"},\"Categories control\"),p(\"div\",{className:\"h4\"},\"Category create\"),p(\"form\",{onSubmit:function(t){t.preventDefault(),s.length&&(e(s),c(\"\"))},className:\"form-group\"},p(\"label\",{className:\"form-group\"},\"Category name\",p(\"input\",{type:\"text\",onChange:function(t){return c(t.target.value)},className:\"form-control\",value:s})),p(\"button\",{type:\"submit\",className:\"btn btn-secondary\"},\"Add\")),p(\"div\",{className:\"h4\"},\"Category edit\"),p(\"form\",{onSubmit:function(t){t.preventDefault(),s.length&&i.toString().length&&(n(i,s),c(\"\"),l(\"\"))},className:\"form-group\"},p(\"label\",{className:\"form-group\"},\"Category name\",p(\"input\",{type:\"text\",onChange:function(t){return c(t.target.value)},className:\"form-control\",value:s})),p(\"label\",{className:\"form-group\"},\"Category id\",p(\"input\",{type:\"number\",onChange:function(t){return l(t.target.value)},className:\"form-control\",value:i})),p(\"button\",{type:\"submit\",className:\"btn btn-secondary\"},\"Save\")),p(\"div\",{className:\"h4\"},\"Category delete\"),p(\"form\",{onSubmit:function(t){t.preventDefault(),i.toString().length&&(r(i),l(\"\"))},className:\"form-group\"},p(\"label\",{className:\"form-group\"},\"Category id\",p(\"input\",{type:\"number\",onChange:function(t){return l(t.target.value)},className:\"form-control\",value:i})),p(\"button\",{type:\"submit\",className:\"btn btn-secondary\"},\"Delete\")))}var f=n(\"o0o1\"),d=n.n(f),g=n(\"HaE+\"),b=n(\"iO2Z\"),h=n(\"vcXL\"),y=n.n(h),v=r.a.createElement;function w(t){var e=t.tasks,n=t.editSupportTasks,r=t.deleteSupportTask,o=Object(a.useState)(!1),s=o[0],c=o[1],u=Object(a.useState)(\"\"),i=u[0],l=u[1],p=Object(a.useState)(\"\"),m=p[0],f=p[1],d=Object(a.useState)(\"\"),g=d[0],b=d[1],h=Object(a.useState)(\"\"),y=h[0],w=h[1];return v(\"div\",null,v(\"span\",{className:\"h2 text-white d-block text-center\"},\"All Support Tasks\"),s&&v(\"form\",{onSubmit:function(t){t.preventDefault(),i.toString().length&&n({subject:m,message:g,answer:y,id:i})},className:\"form-group container\"},v(\"label\",{className:\"form-group text-white\"},\"Subject\",v(\"input\",{type:\"text\",className:\"form-control\",onChange:function(t){return f(t.target.value)}})),v(\"label\",{className:\"form-group text-white\"},\"Message\",v(\"input\",{type:\"text\",className:\"form-control\",onChange:function(t){return b(t.target.value)}})),v(\"label\",{className:\"form-group text-white\"},\"Answer\",v(\"input\",{type:\"text\",className:\"form-control\",onChange:function(t){return w(t.target.value)}})),v(\"div\",null,v(\"button\",{type:\"submit\",className:\"btn btn-info\"},\"Save\"))),v(\"ul\",{className:\"list-group text-white container\"},e&&e.length?e.map((function(t,e){return v(\"li\",{key:e,className:\"list-item py-2\"},v(\"span\",null,v(\"b\",null,\" Subject\"),\": \",t.subject),v(\"br\",null),v(\"span\",null,v(\"b\",null,\" Message\"),\": \",t.message),v(\"br\",null),t.answer&&v(\"span\",null,v(\"b\",null,\" Answer\"),\": \",t.answer),v(\"div\",null,v(\"button\",{onClick:function(){c(!s),l(t.id)}},\"Edit\"),v(\"button\",{className:\"btn btn-danger\",onClick:function(){return r(t.id)}},\"Remove\")))})):v(\"div\",{className:\"h1 text-center text-info\"},\"No tasks...\")))}var N=r.a.createElement;var k={getAllSupportTasks:function(){return function(){var t=Object(g.a)(d.a.mark((function t(e){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.a.currentUserValue,t.next=3,y()(\"https://intim-vibe-api.padilo.pro/api/admin/support\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"\".concat(n.token_type,\" \").concat(n.token)}});case 3:a=t.sent,a.json().then((function(t){return e({type:b.g,payload:t.data})})).catch((function(t){return console.error(\"Error: \",t)}));case 6:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},editSupportTasks:function(t){return function(){var e=Object(g.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.a.currentUserValue,e.next=3,y()(\"https://intim-vibe-api.padilo.pro/api/admin/support/edit/\".concat(t.id),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"\".concat(a.token_type,\" \").concat(a.token)},body:JSON.stringify({subject:t.subject,message:t.message,answer:t.answer})});case 3:r=e.sent,r.json().then((function(t){return n({type:b.g,payload:t})})).then((function(){return window.location.reload(!0)}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteSupportTask:function(t){return function(){var e=Object(g.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.a.currentUserValue,e.next=3,y()(\"https://intim-vibe-api.padilo.pro/api/admin/support/\".concat(t),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"\".concat(a.token_type,\" \").concat(a.token)}});case 3:return r=e.sent,n({type:b.d,payload:t}),e.abrupt(\"return\",r);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},createCategory:function(t){return function(){var e=Object(g.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.a.currentUserValue,e.next=3,y()(\"https://intim-vibe-api.padilo.pro/api/admin/categories/create\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"\".concat(a.token_type,\" \").concat(a.token)},body:JSON.stringify({name:t})});case 3:r=e.sent,r.json().then((function(t){return n({type:b.i})}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},editCategory:function(t,e){return function(){var n=Object(g.a)(d.a.mark((function n(a){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.currentUserValue;case 2:return r=n.sent,n.next=5,y()(\"https://intim-vibe-api.padilo.pro/api/admin/categories/\".concat(t,\"/edit\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"\".concat(r.token_type,\" \").concat(r.token)},body:JSON.stringify({name:e})}).then((function(){a({type:b.i})})).catch((function(t){return console.error(\"Error: \",t)}));case 5:return n.abrupt(\"return\",n.sent);case 7:case\"end\":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},deleteCategory:function(t){return function(){var e=Object(g.a)(d.a.mark((function e(n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.currentUserValue;case 2:return a=e.sent,e.next=5,y()(\"https://intim-vibe-api.padilo.pro/api/admin/categories/\".concat(t),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"\".concat(a.token_type,\" \").concat(a.token)}}).then((function(){n({type:b.i})})).catch((function(t){return console.error(\"Error: \",t)}));case 5:return e.abrupt(\"return\",e.sent);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};e.default=Object(s.b)((function(t){return{tasks:t.admin.tasks}}),k)((function(t){var e=t.tasks,n=t.getAllSupportTasks,r=t.editSupportTasks,o=t.deleteSupportTask,s=t.createCategory,c=t.editCategory,u=t.deleteCategory;return Object(a.useEffect)((function(){n()}),[]),N(\"div\",null,N(l,null),N(m,{createCategory:s,editCategory:c,deleteCategory:u}),N(w,{tasks:e,editSupportTasks:r,deleteSupportTask:o}))}))},GVI0:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin\",function(){return n(\"B6ue\")}])}},[[\"GVI0\",0,1,2,3]]]);","extractedComments":[]}