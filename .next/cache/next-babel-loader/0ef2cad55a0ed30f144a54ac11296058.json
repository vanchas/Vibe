{"ast":null,"code":"import { GET_ALL_SUPPORT_TASKS } from \"./types\";\nimport fetch from 'isomorphic-unfetch';\nimport { authenticationService } from \"../../_services\";\nexport const getAllSupportTasks = () => async dispatch => {\n  const user = authenticationService.currentUserValue;\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `${user.token_type} ${user.token}`\n    }\n  });\n  const promise = response.json();\n  promise.then(res => {\n    return dispatch({\n      type: GET_ALL_SUPPORT_TASKS,\n      payload: res\n    });\n  });\n};\nexport const editSupportTasks = data => async dispatch => {\n  const user = authenticationService.currentUserValue;\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support/edit/${data.id}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `${user.token_type} ${user.token}`\n    },\n    body: JSON.stringify({\n      subject: data.subject,\n      message: data.message,\n      answer: data.answer\n    })\n  });\n  const promise = response.json();\n  promise.then(res => {\n    return dispatch({\n      type: GET_ALL_SUPPORT_TASKS,\n      payload: res\n    });\n  });\n}; // admin/support/edit/{id} -  POST, поля (subject 3-50, message остаются, добавляется answer)","map":{"version":3,"sources":["C:/Users/user/projects/vibe/src/redux/actions/adminActions.ts"],"names":["GET_ALL_SUPPORT_TASKS","fetch","authenticationService","getAllSupportTasks","dispatch","user","currentUserValue","response","method","headers","token_type","token","promise","json","then","res","type","payload","editSupportTasks","data","id","body","JSON","stringify","subject","message","answer"],"mappings":"AAAA,SAASA,qBAAT,QAAsC,SAAtC;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAASC,qBAAT,QAAsC,iBAAtC;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM,MAAOC,QAAP,IAAyB;AAC/D,QAAMC,IAAI,GAAGH,qBAAqB,CAACI,gBAAnC;AACA,QAAMC,QAAQ,GAAG,MAAMN,KAAK,CAAE,qDAAF,EAAwD;AAClFO,IAAAA,MAAM,EAAE,KAD0E;AAElFC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,qCAA+B,GAFxB;AAGP,uBAAkB,GAAEJ,IAAI,CAACK,UAAW,IAAGL,IAAI,CAACM,KAAM;AAH3C;AAFyE,GAAxD,CAA5B;AAQA,QAAMC,OAAO,GAAGL,QAAQ,CAACM,IAAT,EAAhB;AACAD,EAAAA,OAAO,CAACE,IAAR,CAAaC,GAAG,IAAI;AAClB,WAAOX,QAAQ,CAAC;AAAEY,MAAAA,IAAI,EAAEhB,qBAAR;AAA+BiB,MAAAA,OAAO,EAAEF;AAAxC,KAAD,CAAf;AACD,GAFD;AAGD,CAdM;AAeP,OAAO,MAAMG,gBAAgB,GAAIC,IAAD,IAAe,MAAOf,QAAP,IAAyB;AACtE,QAAMC,IAAI,GAAGH,qBAAqB,CAACI,gBAAnC;AACA,QAAMC,QAAQ,GAAG,MAAMN,KAAK,CAAE,4DAA2DkB,IAAI,CAACC,EAAG,EAArE,EAAwE;AAClGZ,IAAAA,MAAM,EAAE,MAD0F;AAElGC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,qCAA+B,GAFxB;AAGP,uBAAkB,GAAEJ,IAAI,CAACK,UAAW,IAAGL,IAAI,CAACM,KAAM;AAH3C,KAFyF;AAOlGU,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,MAAAA,OAAO,EAAEL,IAAI,CAACK,OAAhB;AAAyBC,MAAAA,OAAO,EAAEN,IAAI,CAACM,OAAvC;AAAgDC,MAAAA,MAAM,EAAEP,IAAI,CAACO;AAA7D,KAAf;AAP4F,GAAxE,CAA5B;AASA,QAAMd,OAAO,GAAGL,QAAQ,CAACM,IAAT,EAAhB;AACAD,EAAAA,OAAO,CAACE,IAAR,CAAaC,GAAG,IAAI;AAClB,WAAOX,QAAQ,CAAC;AAAEY,MAAAA,IAAI,EAAEhB,qBAAR;AAA+BiB,MAAAA,OAAO,EAAEF;AAAxC,KAAD,CAAf;AACD,GAFD;AAGD,CAfM,C,CAiBP","sourcesContent":["import { GET_ALL_SUPPORT_TASKS } from \"./types\"\r\nimport fetch from 'isomorphic-unfetch'\r\nimport { authenticationService } from \"../../_services\"\r\n\r\nexport const getAllSupportTasks = () => async (dispatch: any) => {\r\n  const user = authenticationService.currentUserValue;\r\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': `${user.token_type} ${user.token}`\r\n    }\r\n  });\r\n  const promise = response.json();\r\n  promise.then(res => {\r\n    return dispatch({ type: GET_ALL_SUPPORT_TASKS, payload: res })\r\n  });\r\n}\r\nexport const editSupportTasks = (data: any) => async (dispatch: any) => {\r\n  const user = authenticationService.currentUserValue;\r\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support/edit/${data.id}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': `${user.token_type} ${user.token}`\r\n    },\r\n    body: JSON.stringify({ subject: data.subject, message: data.message, answer: data.answer })\r\n  });\r\n  const promise = response.json();\r\n  promise.then(res => {\r\n    return dispatch({ type: GET_ALL_SUPPORT_TASKS, payload: res })\r\n  });\r\n}\r\n\r\n// admin/support/edit/{id} -  POST, поля (subject 3-50, message остаются, добавляется answer)"]},"metadata":{},"sourceType":"module"}