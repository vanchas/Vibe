{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { GET_ALL_SUPPORT_TASKS, DELETE_SUPPORT_TASK, GET_APP_INFO } from \"./types\";\nimport fetch from 'isomorphic-unfetch';\nimport { authenticationService } from \"../../_services\";\nexport var getAllSupportTasks = function getAllSupportTasks() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var user, response, promise;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = authenticationService.currentUserValue;\n              _context.next = 3;\n              return fetch(\"https://intim-vibe-api.padilo.pro/api/admin/support\", {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': '*',\n                  'Authorization': \"\".concat(user.token_type, \" \").concat(user.token)\n                }\n              });\n\n            case 3:\n              response = _context.sent;\n              promise = response.json();\n              promise.then(function (res) {\n                return dispatch({\n                  type: GET_ALL_SUPPORT_TASKS,\n                  payload: res.data\n                });\n              })[\"catch\"](function (err) {\n                return console.error('Error: ', err);\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var editSupportTasks = function editSupportTasks(data) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var user, response, promise;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              user = authenticationService.currentUserValue;\n              _context2.next = 3;\n              return fetch(\"https://intim-vibe-api.padilo.pro/api/admin/support/edit/\".concat(data.id), {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': '*',\n                  'Authorization': \"\".concat(user.token_type, \" \").concat(user.token)\n                },\n                body: JSON.stringify({\n                  subject: data.subject,\n                  message: data.message,\n                  answer: data.answer\n                })\n              });\n\n            case 3:\n              response = _context2.sent;\n              promise = response.json();\n              promise.then(function (res) {\n                return dispatch({\n                  type: GET_ALL_SUPPORT_TASKS,\n                  payload: res\n                });\n              }).then(function () {\n                return window.location.reload(true);\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var deleteSupportTask = function deleteSupportTask(id) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var user, response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              user = authenticationService.currentUserValue;\n              _context3.next = 3;\n              return fetch(\"https://intim-vibe-api.padilo.pro/api/admin/support/\".concat(id), {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': '*',\n                  'Authorization': \"\".concat(user.token_type, \" \").concat(user.token)\n                }\n              });\n\n            case 3:\n              response = _context3.sent;\n              dispatch({\n                type: DELETE_SUPPORT_TASK,\n                payload: id\n              });\n              return _context3.abrupt(\"return\", response);\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var createCategory = function createCategory(name) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var user, response, promise;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              user = authenticationService.currentUserValue;\n              _context4.next = 3;\n              return fetch(\"https://intim-vibe-api.padilo.pro/api/admin/categories/create\", {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': '*',\n                  'Authorization': \"\".concat(user.token_type, \" \").concat(user.token)\n                },\n                body: JSON.stringify({\n                  name: name\n                })\n              });\n\n            case 3:\n              response = _context4.sent;\n              promise = response.json();\n              promise.then(function (res) {\n                return dispatch({\n                  type: GET_APP_INFO\n                });\n              });\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var editCategory = function editCategory(id, name) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      var user, response, promise;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              user = authenticationService.currentUserValue;\n              _context5.next = 3;\n              return fetch(\"https://intim-vibe-api.padilo.pro/api/admin/categories/\".concat(id, \"/edit\"), {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': '*',\n                  'Authorization': \"\".concat(user.token_type, \" \").concat(user.token)\n                },\n                body: JSON.stringify({\n                  name: name\n                })\n              });\n\n            case 3:\n              response = _context5.sent;\n              promise = response.json();\n              promise.then(function (res) {\n                return dispatch({\n                  type: GET_APP_INFO\n                });\n              });\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var deleteCategory = function deleteCategory(id) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch) {\n      var user, response, promise;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              user = authenticationService.currentUserValue;\n              _context6.next = 3;\n              return fetch(\"https://intim-vibe-api.padilo.pro/api/admin/categories/\".concat(id), {\n                method: 'DELETE',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': '*',\n                  'Authorization': \"\".concat(user.token_type, \" \").concat(user.token)\n                }\n              });\n\n            case 3:\n              response = _context6.sent;\n              promise = response.json();\n              promise.then(function (res) {\n                return dispatch({\n                  type: GET_APP_INFO\n                });\n              });\n\n            case 6:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/user/projects/vibe/src/redux/actions/adminActions.ts"],"names":["GET_ALL_SUPPORT_TASKS","DELETE_SUPPORT_TASK","GET_APP_INFO","fetch","authenticationService","getAllSupportTasks","dispatch","user","currentUserValue","method","headers","token_type","token","response","promise","json","then","res","type","payload","data","err","console","error","editSupportTasks","id","body","JSON","stringify","subject","message","answer","window","location","reload","deleteSupportTask","createCategory","name","editCategory","deleteCategory"],"mappings":"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","sourcesContent":["import { GET_ALL_SUPPORT_TASKS, DELETE_SUPPORT_TASK, CREATE_CATEGORY, EDIT_CATEGORY, DELETE_CATEGORY, GET_APP_INFO } from \"./types\"\r\nimport fetch from 'isomorphic-unfetch'\r\nimport { authenticationService } from \"../../_services\"\r\n\r\nexport const getAllSupportTasks = () => async (dispatch: any) => {\r\n  const user = authenticationService.currentUserValue;\r\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': `${user.token_type} ${user.token}`\r\n    }\r\n  });\r\n  const promise = response.json();\r\n  promise.then(res => {\r\n    return dispatch({ type: GET_ALL_SUPPORT_TASKS, payload: res.data })\r\n  }).catch(err => console.error('Error: ', err));\r\n}\r\nexport const editSupportTasks = (data: any) => async (dispatch: any) => {\r\n  const user = authenticationService.currentUserValue;\r\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support/edit/${data.id}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': `${user.token_type} ${user.token}`\r\n    },\r\n    body: JSON.stringify({\r\n      subject: data.subject,\r\n      message: data.message,\r\n      answer: data.answer\r\n    })\r\n  });\r\n  const promise = response.json();\r\n  promise.then(res => {\r\n    return dispatch({ type: GET_ALL_SUPPORT_TASKS, payload: res })\r\n  }).then(() => window.location.reload(true));\r\n}\r\nexport const deleteSupportTask = (id: number | string) => async (dispatch: any) => {\r\n  const user = authenticationService.currentUserValue;\r\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support/${id}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': `${user.token_type} ${user.token}`\r\n    }\r\n  });\r\n  dispatch({ type: DELETE_SUPPORT_TASK, payload: id })\r\n  return response;\r\n}\r\nexport const createCategory = (name: string) => async (dispatch: any) => {\r\n  const user = authenticationService.currentUserValue;\r\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/categories/create`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': `${user.token_type} ${user.token}`\r\n    },\r\n    body: JSON.stringify({ name })\r\n  });\r\n  const promise = response.json();\r\n  promise.then(res => {\r\n    return dispatch({ type: GET_APP_INFO })\r\n  });\r\n}\r\nexport const editCategory = (id: string | number, name: string) => async (dispatch: any) => {\r\n  const user = authenticationService.currentUserValue;\r\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/categories/${id}/edit`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': `${user.token_type} ${user.token}`\r\n    },\r\n    body: JSON.stringify({ name })\r\n  });\r\n  const promise = response.json();\r\n  promise.then(res => {\r\n    return dispatch({ type: GET_APP_INFO })\r\n  });\r\n}\r\nexport const deleteCategory = (id: string | number) => async (dispatch: any) => {\r\n  const user = authenticationService.currentUserValue;\r\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/categories/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': `${user.token_type} ${user.token}`\r\n    }\r\n  });\r\n  const promise = response.json();\r\n  promise.then(res => {\r\n    return dispatch({ type: GET_APP_INFO })\r\n  });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}