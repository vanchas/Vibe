{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport s from \"./control.module.scss\";\nimport ModelsFilter from '../models-filter/ModelsFilter';\nimport $ from 'jquery';\nimport { useRouter } from 'next/router';\nexport default function LocPageControl({\n  cities,\n  availability,\n  available_to,\n  ethnicity,\n  eyes,\n  hair,\n  affiliation,\n  filterPosts\n}) {\n  const {\n    0: currentCity,\n    1: setCurrentCity\n  } = useState('');\n  const {\n    0: showCities,\n    1: setShowCities\n  } = useState(false);\n  const {\n    0: showFilter,\n    1: setShowFilter\n  } = useState(false);\n  const router = useRouter();\n  useEffect(() => {\n    setCurrentCity(router.query.state);\n    $('.loc_cities_list').hide(() => {\n      setShowCities(false);\n    });\n    $('.filter_items_block').hide(() => {\n      setShowFilter(true);\n    });\n    return () => {\n      setCurrentCity('');\n    };\n  }, []);\n\n  const slideCitiesList = () => {\n    $('.loc_cities_list').slideToggle(() => {\n      setShowCities(!showCities);\n    });\n  };\n\n  const slideFilter = () => {\n    $('.filter_items_block').slideToggle(() => {\n      setShowFilter(!showFilter);\n    });\n  };\n\n  const changeCity = (name, id) => {\n    setCurrentCity(name);\n    filterPosts({\n      'city_id': id\n    });\n    slideCitiesList();\n  };\n\n  return __jsx(\"div\", {\n    className: `${s.loc_page_control} text-white`\n  }, __jsx(\"div\", {\n    className: s.loc_page_control_content\n  }, __jsx(\"div\", {\n    className: `${s.loc_page_control_header}`\n  }, __jsx(\"h5\", null, \"ESCORTS \", currentCity && currentCity.length ? 'IN ' + currentCity.toUpperCase() : null), __jsx(\"div\", {\n    onClick: slideCitiesList\n  }, \"CHANGE LOCATION\")), __jsx(\"div\", {\n    className: `loc_cities_list ${s.loc_cities_list}`\n  }, cities && cities.length ? __jsx(\"ul\", null, cities.map((c, i) => __jsx(\"li\", {\n    onClick: e => changeCity(c.name, c.id),\n    key: i,\n    className: `${currentCity === c.name ? 'active_btn_blue' : ''} btn city-item`\n  }, __jsx(\"span\", null, c.name)))) : __jsx(\"div\", {\n    className: \"text-center h1 text-info py-5\"\n  }, \"No cities ...\")), __jsx(\"div\", {\n    className: `${s.loc_page_filter_control}`\n  }, __jsx(\"div\", {\n    onClick: slideFilter\n  }, \"FILTER\"), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"filter\",\n    className: \"form-control\"\n  }))), __jsx(\"div\", {\n    className: `filter_items_block ${s.filter_items_block}`\n  }, __jsx(ModelsFilter, {\n    availability: availability,\n    available_to: available_to,\n    ethnicity: ethnicity,\n    affiliation: affiliation,\n    filterPosts: filterPosts,\n    eyes: eyes,\n    hair: hair,\n    slideFilter: slideFilter\n  })));\n}","map":null,"metadata":{},"sourceType":"module"}