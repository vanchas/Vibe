{"ast":null,"code":"import { GET_ALL_SUPPORT_TASKS, DELETE_SUPPORT_TASK, GET_APP_INFO } from \"./types\";\nimport fetch from 'isomorphic-unfetch';\nimport { authenticationService } from \"../../_services\";\nexport const getAllSupportTasks = () => async dispatch => {\n  const user = authenticationService.currentUserValue;\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `${user.token_type} ${user.token}`\n    }\n  });\n  const promise = response.json();\n  promise.then(res => {\n    return dispatch({\n      type: GET_ALL_SUPPORT_TASKS,\n      payload: res.data\n    });\n  }).catch(err => console.error('Error: ', err));\n};\nexport const editSupportTasks = data => async dispatch => {\n  const user = authenticationService.currentUserValue;\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support/edit/${data.id}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `${user.token_type} ${user.token}`\n    },\n    body: JSON.stringify({\n      subject: data.subject,\n      message: data.message,\n      answer: data.answer\n    })\n  });\n  const promise = response.json();\n  promise.then(res => {\n    return dispatch({\n      type: GET_ALL_SUPPORT_TASKS,\n      payload: res\n    });\n  }).then(() => window.location.reload(true));\n};\nexport const deleteSupportTask = id => async dispatch => {\n  const user = authenticationService.currentUserValue;\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/support/${id}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `${user.token_type} ${user.token}`\n    }\n  });\n  dispatch({\n    type: DELETE_SUPPORT_TASK,\n    payload: id\n  });\n  return response;\n};\nexport const createCategory = name => async dispatch => {\n  const user = authenticationService.currentUserValue;\n  const response = await fetch(`https://intim-vibe-api.padilo.pro/api/admin/categories/create`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `${user.token_type} ${user.token}`\n    },\n    body: JSON.stringify({\n      name\n    })\n  });\n  const promise = response.json();\n  promise.then(res => {\n    return dispatch({\n      type: GET_APP_INFO\n    });\n  });\n};\nexport const editCategory = (id, name) => async dispatch => {\n  const user = await authenticationService.currentUserValue;\n  return await fetch(`https://intim-vibe-api.padilo.pro/api/admin/categories/${id}/edit`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `${user.token_type} ${user.token}`\n    },\n    body: JSON.stringify({\n      name\n    })\n  }).then(() => {\n    dispatch({\n      type: GET_APP_INFO\n    });\n  }).catch(err => console.error('Error: ', err));\n  ;\n};\nexport const deleteCategory = id => async dispatch => {\n  const user = await authenticationService.currentUserValue;\n  return await fetch(`https://intim-vibe-api.padilo.pro/api/admin/categories/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `${user.token_type} ${user.token}`\n    }\n  }).then(() => {\n    dispatch({\n      type: GET_APP_INFO\n    });\n  }).catch(err => console.error('Error: ', err));\n};","map":null,"metadata":{},"sourceType":"module"}