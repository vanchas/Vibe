{"ast":null,"code":"import { CREATE_POST } from './actions/types';\nimport { showAlert } from './actions/actions';\nvar forbidden = ['fuck', 'spam'];\nexport function forbiddenWordsMiddlwware(_ref) {\n  var dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type === CREATE_POST) {\n        var found = forbidden.filter(function (w) {\n          return action.payload.title.includes(w);\n        });\n\n        if (found.length) {\n          return dispatch(showAlert('It\\'s a spam!'));\n        }\n      }\n\n      return next(action);\n    };\n  };\n}","map":{"version":3,"sources":["C:/Users/user/projects/vibe/src/redux/middleware.ts"],"names":["CREATE_POST","showAlert","forbidden","forbiddenWordsMiddlwware","dispatch","next","action","type","found","filter","w","payload","title","includes","length"],"mappings":"AAAA,SAASA,WAAT,QAA4B,iBAA5B;AACA,SAASC,SAAT,QAA0B,mBAA1B;AAEA,IAAMC,SAAS,GAAG,CAAC,MAAD,EAAS,MAAT,CAAlB;AAEA,OAAO,SAASC,wBAAT,OAAqD;AAAA,MAAjBC,QAAiB,QAAjBA,QAAiB;AAC1D,SAAO,UAAUC,IAAV,EAAqB;AAC1B,WAAO,UAAUC,MAAV,EAAuB;AAC5B,UAAIA,MAAM,CAACC,IAAP,KAAgBP,WAApB,EAAiC;AAC/B,YAAMQ,KAAK,GAAGN,SAAS,CAACO,MAAV,CAAiB,UAAAC,CAAC;AAAA,iBAAIJ,MAAM,CAACK,OAAP,CAAeC,KAAf,CAAqBC,QAArB,CAA8BH,CAA9B,CAAJ;AAAA,SAAlB,CAAd;;AACA,YAAIF,KAAK,CAACM,MAAV,EAAkB;AAChB,iBAAOV,QAAQ,CAACH,SAAS,CAAC,eAAD,CAAV,CAAf;AACD;AACF;;AACD,aAAOI,IAAI,CAACC,MAAD,CAAX;AACD,KARD;AASD,GAVD;AAWD","sourcesContent":["import { CREATE_POST } from './actions/types'\r\nimport { showAlert } from './actions/actions'\r\n\r\nconst forbidden = ['fuck', 'spam'];\r\n\r\nexport function forbiddenWordsMiddlwware({ dispatch }: any) {\r\n  return function (next: any) {\r\n    return function (action: any) {\r\n      if (action.type === CREATE_POST) {\r\n        const found = forbidden.filter(w => action.payload.title.includes(w));\r\n        if (found.length) {\r\n          return dispatch(showAlert('It\\'s a spam!'));\r\n        }\r\n      }\r\n      return next(action);\r\n    }\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}