{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { authenticationService } from '../_services';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\n\nvar NavComponent = function NavComponent(props) {\n  var _useState = useState({}),\n      currentUser = _useState[0],\n      setCurrentUser = _useState[1];\n\n  var _useState2 = useState(false),\n      isAdmin = _useState2[0],\n      setIsAdmin = _useState2[1];\n\n  var _useState3 = useState(false),\n      isOpen = _useState3[0],\n      setIsOpen = _useState3[1];\n\n  var toggle = function toggle() {\n    return setIsOpen(!isOpen);\n  };\n\n  useEffect(function () {\n    setCurrentUser(props.currentUser);\n    setIsAdmin(props.currentUser === 'Admin' ? true : false);\n  }, []);\n\n  var logout = function logout() {\n    toggle();\n    authenticationService.logout();\n  };\n\n  return __jsx(\"div\", null, __jsx(Navbar, {\n    color: \"light\",\n    light: true,\n    expand: \"lg\"\n  }, __jsx(NavbarBrand, {\n    href: \"/\"\n  }, \"EGOLIST\"), __jsx(NavbarToggler, {\n    onClick: toggle\n  }), __jsx(Collapse, {\n    isOpen: isOpen,\n    navbar: true\n  }, __jsx(Nav, {\n    className: \"mr-auto\",\n    navbar: true\n  }, __jsx(NavItem, null, __jsx(NavLink, {\n    href: \"/\"\n  }, \"Home\")), __jsx(NavItem, null, __jsx(NavLink, {\n    href: \"/login\"\n  }, \"Login\")), currentUser.role && __jsx(React.Fragment, null, __jsx(NavItem, null, __jsx(NavLink, {\n    href: \"/user\"\n  }, \"Profile\")), __jsx(NavItem, null, __jsx(NavLink, {\n    href: \"/messages\"\n  }, \"Messages\")), isAdmin && __jsx(NavItem, null, __jsx(NavLink, {\n    href: \"/admin\"\n  }, \"Admin page\")), __jsx(NavItem, null, __jsx(NavLink, {\n    href: \"/login\",\n    onClick: logout\n  }, \"Logout\")))))));\n};\n\nNavComponent.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var Component, ctx;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            Component = _ref.Component, ctx = _ref.ctx;\n            return _context.abrupt(\"return\", {});\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default NavComponent;","map":null,"metadata":{},"sourceType":"module"}