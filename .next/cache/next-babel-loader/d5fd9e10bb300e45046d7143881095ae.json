{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { ADD_POST, UPDATE_POST, REMOVE_POST, GET_ALL_POSTS } from \"./types\";\nimport fetch from 'isomorphic-unfetch';\nimport { authenticationService } from \"../../_services\"; // import { useRouter } from \"next/router\"\n\nexport function getAllProviderPost() {\n  return {\n    type: GET_ALL_POSTS\n  };\n}\n;\nexport var addProviderPost = function addProviderPost(post) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var user, formData, response, promise;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = authenticationService.currentUserValue;\n              formData = new FormData();\n              formData.append('gender', post.gender);\n              formData.append('age', post.age);\n              formData.append('ethnicity_id', post.ethnicity_id);\n              formData.append('hair_id', post.hair_id);\n              formData.append('eye_id', post.eye_id);\n              formData.append('height', post.height);\n              formData.append('affiliation_id', post.affiliation_id);\n              formData.append('number', post.number);\n              formData.append('email', post.email);\n              formData.append('model_name', post.model_name);\n              formData.append('photo', post.photo);\n              formData.append('video_link', post.video_link);\n              formData.append('about', post.about);\n              formData.append('status', post.status);\n              formData.append('category_id', post.category_id);\n              formData.append('user_id', post.user_id);\n              formData.append('state_id', post.state_id);\n              formData.append('city_id', post.city_id);\n              formData.append('summary', post.summary);\n              formData.append('second_name', post.second_name);\n              formData.append('account_name', post.account_name);\n              formData.append('is_more_photos', post.is_more_photos);\n              formData.append('is_verify', post.is_verify);\n              formData.append('is_published', post.is_published);\n              formData.append('is_photos_vip', post.is_photos_vip);\n              formData.append('available_to_date', post.available_to_date);\n              formData.append('photo_vertical', post.photo_vertical);\n              formData.append('photo_horizontal', post.photo_horizontal);\n              formData.append('state', post.state);\n              formData.append('city', post.city);\n              formData.append('eye', post.eye);\n              formData.append('hair', post.hair);\n              formData.append('affiliation', post.affiliation);\n              formData.append('ethnicity', post.ethnicity);\n              formData.append('availability_ids', post.availability_ids);\n              formData.append('avaliableto_ids', post.avaliableto_ids);\n              _context.next = 40;\n              return fetch('https://intim-vibe-api.padilo.pro/api/posts/create', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': '*',\n                  'Authorization': \"\".concat(user.token_type, \" \").concat(user.token)\n                },\n                body: JSON.stringify(formData)\n              });\n\n            case 40:\n              response = _context.sent;\n              console.log('response:', response); // ?????????????????????????????????????????????????????????????????????????\n\n              promise = response.json();\n              console.log('promise:', promise);\n              promise.then(function (res) {\n                console.log(res);\n                return dispatch({\n                  type: ADD_POST,\n                  payload: post\n                });\n              })[\"catch\"](function (err) {\n                return console.error('Error:', err);\n              });\n\n            case 45:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport function updateProviderPost(post) {\n  return {\n    type: UPDATE_POST,\n    payload: post\n  };\n}\n;\nexport function removeProviderPost(id) {\n  return {\n    type: REMOVE_POST,\n    payload: id\n  };\n}\n; // export function showAlert(text: string): any {\n//     return (dispatch: Function) => {\n//         dispatch({\n//             type: SHOW_ALERT,\n//             payload: text\n//         })\n//         setTimeout(() => {\n//             dispatch(hideAlert())\n//         }, 3000)\n//     }\n// }","map":{"version":3,"sources":["C:/Users/user/projects/vibe/src/redux/actions/providerActions.ts"],"names":["ADD_POST","UPDATE_POST","REMOVE_POST","GET_ALL_POSTS","fetch","authenticationService","getAllProviderPost","type","addProviderPost","post","dispatch","user","currentUserValue","formData","FormData","append","gender","age","ethnicity_id","hair_id","eye_id","height","affiliation_id","number","email","model_name","photo","video_link","about","status","category_id","user_id","state_id","city_id","summary","second_name","account_name","is_more_photos","is_verify","is_published","is_photos_vip","available_to_date","photo_vertical","photo_horizontal","state","city","eye","hair","affiliation","ethnicity","availability_ids","avaliableto_ids","method","headers","token_type","token","body","JSON","stringify","response","console","log","promise","json","then","res","payload","err","error","updateProviderPost","removeProviderPost","id"],"mappings":"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","sourcesContent":["import { ADD_POST, ProviderPost, UPDATE_POST, REMOVE_POST, GET_ALL_POSTS } from \"./types\"\r\nimport fetch from 'isomorphic-unfetch'\r\nimport { authenticationService } from \"../../_services\";\r\n// import { useRouter } from \"next/router\"\r\n\r\nexport function getAllProviderPost(): any {\r\n  return {\r\n    type: GET_ALL_POSTS\r\n  }\r\n};\r\n\r\nexport const addProviderPost = (post: any) => async (dispatch: any) => {\r\n  const user = authenticationService.currentUserValue;\r\n  const formData = new FormData();\r\n  \r\n  formData.append('gender', post.gender);\r\n  formData.append('age', post.age);\r\n  formData.append('ethnicity_id', post.ethnicity_id);\r\n  formData.append('hair_id', post.hair_id);\r\n  formData.append('eye_id', post.eye_id);\r\n  formData.append('height', post.height);\r\n  formData.append('affiliation_id', post.affiliation_id);\r\n  formData.append('number', post.number);\r\n  formData.append('email', post.email);\r\n  formData.append('model_name', post.model_name);\r\n  formData.append('photo', post.photo);\r\n  formData.append('video_link', post.video_link);\r\n  formData.append('about', post.about);\r\n  formData.append('status', post.status);\r\n  formData.append('category_id', post.category_id);\r\n  formData.append('user_id', post.user_id);\r\n  formData.append('state_id', post.state_id);\r\n  formData.append('city_id', post.city_id);\r\n  formData.append('summary', post.summary);\r\n  formData.append('second_name', post.second_name);\r\n  formData.append('account_name', post.account_name);\r\n  formData.append('is_more_photos', post.is_more_photos);\r\n  formData.append('is_verify', post.is_verify);\r\n  formData.append('is_published', post.is_published);\r\n  formData.append('is_photos_vip', post.is_photos_vip);\r\n  formData.append('available_to_date', post.available_to_date);\r\n  formData.append('photo_vertical', post.photo_vertical);\r\n  formData.append('photo_horizontal', post.photo_horizontal);\r\n  formData.append('state', post.state);\r\n  formData.append('city', post.city);\r\n  formData.append('eye', post.eye);\r\n  formData.append('hair', post.hair);\r\n  formData.append('affiliation', post.affiliation);\r\n  formData.append('ethnicity', post.ethnicity);\r\n  formData.append('availability_ids', post.availability_ids);\r\n  formData.append('avaliableto_ids', post.avaliableto_ids);\r\n\r\n  const response = await fetch('https://intim-vibe-api.padilo.pro/api/posts/create', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': `${user.token_type} ${user.token}`\r\n    },\r\n    body: JSON.stringify(formData)\r\n  });\r\n  console.log('response:', response);\r\n  // ?????????????????????????????????????????????????????????????????????????\r\n  const promise = response.json();\r\n\r\n  console.log('promise:', promise);\r\n  promise.then(res => {\r\n    console.log(res);\r\n    return dispatch({ type: ADD_POST, payload: post });\r\n  }).catch(err => console.error('Error:', err))\r\n};\r\nexport function updateProviderPost(post: ProviderPost): any {\r\n  return {\r\n    type: UPDATE_POST,\r\n    payload: post\r\n  }\r\n};\r\nexport function removeProviderPost(id: number | string): any {\r\n  return {\r\n    type: REMOVE_POST,\r\n    payload: id\r\n  }\r\n};\r\n\r\n// export function showAlert(text: string): any {\r\n//     return (dispatch: Function) => {\r\n//         dispatch({\r\n//             type: SHOW_ALERT,\r\n//             payload: text\r\n//         })\r\n//         setTimeout(() => {\r\n//             dispatch(hideAlert())\r\n//         }, 3000)\r\n//     }\r\n// }\r\n\r\n"]},"metadata":{},"sourceType":"module"}