{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport s from \"./control.module.scss\";\nimport ModelsFilter from '../models-filter/ModelsFilter';\nimport $ from 'jquery';\nimport { useRouter } from 'next/router';\nexport default function LocPageControl(_ref) {\n  var cities = _ref.cities,\n      availability = _ref.availability,\n      available_to = _ref.available_to,\n      ethnicity = _ref.ethnicity,\n      eyes = _ref.eyes,\n      hair = _ref.hair,\n      affiliation = _ref.affiliation,\n      filterPosts = _ref.filterPosts;\n\n  var _useState = useState(''),\n      currentCity = _useState[0],\n      setCurrentCity = _useState[1];\n\n  var _useState2 = useState(false),\n      showCities = _useState2[0],\n      setShowCities = _useState2[1];\n\n  var _useState3 = useState(false),\n      showFilter = _useState3[0],\n      setShowFilter = _useState3[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    setCurrentCity(router.query.state);\n    $('.loc_cities_list').hide(function () {\n      setShowCities(false);\n    });\n    $('.filter_items_block').hide(function () {\n      setShowFilter(true);\n    });\n    return function () {\n      setCurrentCity('');\n    };\n  }, []);\n\n  var slideCitiesList = function slideCitiesList() {\n    $('.loc_cities_list').slideToggle(function () {\n      setShowCities(!showCities);\n    });\n  };\n\n  var slideFilter = function slideFilter() {\n    $('.filter_items_block').slideToggle(function () {\n      setShowFilter(!showFilter);\n    });\n  };\n\n  var changeCity = function changeCity(name, id) {\n    setCurrentCity(name);\n    filterPosts({\n      'city_id': id\n    });\n    slideCitiesList();\n  };\n\n  return __jsx(\"div\", {\n    className: \"\".concat(s.loc_page_control, \" text-white\")\n  }, __jsx(\"div\", {\n    className: s.loc_page_control_content\n  }, __jsx(\"div\", {\n    className: \"\".concat(s.loc_page_control_header)\n  }, __jsx(\"h5\", null, \"ESCORTS \", currentCity && currentCity.length ? 'IN ' + currentCity.toUpperCase() : null), __jsx(\"div\", {\n    onClick: slideCitiesList\n  }, \"CHANGE LOCATION\")), __jsx(\"div\", {\n    className: \"loc_cities_list \".concat(s.loc_cities_list)\n  }, cities && cities.length ? __jsx(\"ul\", null, cities.map(function (c, i) {\n    return __jsx(\"li\", {\n      onClick: function onClick(e) {\n        return changeCity(c.name, c.id);\n      },\n      key: i,\n      className: \"\".concat(currentCity === c.name ? 'active_btn_blue' : '', \" btn city-item\")\n    }, __jsx(\"span\", null, c.name));\n  })) : __jsx(\"div\", {\n    className: \"text-center h1 text-info py-5\"\n  }, \"No cities ...\")), __jsx(\"div\", {\n    className: \"\".concat(s.loc_page_filter_control)\n  }, __jsx(\"div\", {\n    onClick: slideFilter\n  }, \"FILTER\"), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"filter\",\n    className: \"form-control\"\n  }))), __jsx(\"div\", {\n    className: \"filter_items_block \".concat(s.filter_items_block)\n  }, __jsx(ModelsFilter, {\n    availability: availability,\n    available_to: available_to,\n    ethnicity: ethnicity,\n    affiliation: affiliation,\n    filterPosts: filterPosts,\n    eyes: eyes,\n    hair: hair,\n    slideFilter: slideFilter\n  })));\n}","map":null,"metadata":{},"sourceType":"module"}